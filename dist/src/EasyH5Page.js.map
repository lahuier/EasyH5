{"version":3,"sources":["../../src/EasyH5Page.js"],"names":["EasyH5Page","option","el","document","body","width","height","page","init","prototype","getElementById","Error","removeAttribute","createElement","id","setAttributes","append","pageScale","children","w","documentElement","clientWidth","h","clientHeight","style","transform","marginLeft","console","log"],"mappings":";;;;;kBAEwBA,U;;AAFxB;;;;;;AAEe,SAASA,UAAT,CAAoBC,MAApB,EAA4B;AACvC,SAAKC,EAAL,GAAUD,OAAOC,EAAP,IAAaC,SAASC,IAAhC;AACA,SAAKC,KAAL,GAAaJ,OAAOI,KAAP,IAAgB,GAA7B;AACA,SAAKC,MAAL,GAAcL,OAAOK,MAAP,IAAiB,IAA/B;AACA,SAAKC,IAAL,GAAY,KAAKC,IAAL,EAAZ;AAEH;;AAEDR,WAAWS,SAAX,CAAqBD,IAArB,GAA4B,YAAY;AACpC,QAAIN,KAAKC,SAASO,cAAT,CAAwB,KAAKR,EAA7B,CAAT;AACA,QAAGA,MAAM,IAAT,EAAe,MAAMS,MAAM,gBAAe,KAAKT,EAApB,GAAwB,gBAA9B,CAAN;AACfA,OAAGU,eAAH,CAAmB,IAAnB;AACA,QAAIL,OAAOJ,SAASU,aAAT,CAAuB,SAAvB,CAAX;AACAN,SAAKO,EAAL,GAAU,KAAKZ,EAAf;AACA,mBAAKa,aAAL,CAAmBR,IAAnB,EAAyB,EAAC,MAAK,KAAKL,EAAX,EAAe,SAAQ,QAAvB,EAAzB;AACA,mBAAKa,aAAL,CAAmBb,EAAnB,EAAuB,EAAC,SAAQ,cAAT,EAAyB,SAAQ,YAAU,KAAKI,MAAf,GAAsB,WAAtB,GAAkC,KAAKD,KAAvC,GAA6C,KAA9E,EAAvB;AACAE,SAAKS,MAAL,CAAYd,EAAZ;AACAe,cAAUV,KAAKW,QAAL,CAAc,CAAd,CAAV,EAA2B,KAAKZ,MAAhC,EAAuC,KAAKD,KAA5C;AACA,WAAOE,IAAP;AACH,CAXD;;AAaA,SAASU,SAAT,CAAoBV,IAApB,EAA0BD,MAA1B,EAAkCD,KAAlC,EAAyC;AACrC,QAAIc,IAAIhB,SAASiB,eAAT,CAAyBC,WAAzB,IAAwClB,SAASC,IAAT,CAAciB,WAA9D;AACA,QAAIC,IAAInB,SAASiB,eAAT,CAAyBG,YAAzB,IAAyCpB,SAASC,IAAT,CAAcmB,YAA/D;AACAhB,SAAKiB,KAAL,CAAWnB,KAAX,GAAmBA,KAAnB;AACAE,SAAKiB,KAAL,CAAWlB,MAAX,GAAoBA,MAApB;AACA,QAAIa,IAAEG,CAAH,GAASjB,QAAMC,MAAlB,EAA2B;AAAE;AACzBC,aAAKiB,KAAL,CAAWC,SAAX,GAAuB,WAASH,IAAEhB,MAAX,GAAkB,GAAzC;AACAC,aAAKiB,KAAL,CAAWE,UAAX,GAAyB,CAACP,IAAIG,IAAEhB,MAAF,GAASD,KAAd,IAAqB,CAAtB,GAAyB,IAAjD;AACAsB,gBAAQC,GAAR,CAAYrB,KAAKiB,KAAL,CAAWE,UAAvB;AACH,KAJD,MAMK;AAAE;AACHnB,aAAKiB,KAAL,CAAWC,SAAX,GAAuB,WAASN,IAAEd,KAAX,GAAiB,GAAxC;AACH;AAEJ","file":"EasyH5Page.js","sourcesContent":["import util from './util'\n\nexport default function EasyH5Page(option) {\n    this.el = option.el || document.body;\n    this.width = option.width || 640;\n    this.height = option.height || 1040;\n    this.page = this.init()\n\n}\n\nEasyH5Page.prototype.init = function () {\n    let el = document.getElementById(this.el);\n    if(el == null) throw Error('The page: \"' +this.el+ '\" is not found');\n    el.removeAttribute('id');\n    let page = document.createElement('section');\n    page.id = this.el;\n    util.setAttributes(page, {'id':this.el, 'class':'e-page'});\n    util.setAttributes(el, {'class':'e-index-main', 'style':'height:'+this.height+'px;width:'+this.width+'px;'});\n    page.append(el);\n    pageScale(page.children[0],this.height,this.width);\n    return page;\n};\n\nfunction pageScale (page, height, width) {\n    let w = document.documentElement.clientWidth || document.body.clientWidth;\n    let h = document.documentElement.clientHeight || document.body.clientHeight;\n    page.style.width = width;\n    page.style.height = height;\n    if((w/h) > (width/height)) { // 宽屏\n        page.style.transform = 'scale('+h/height+')';\n        page.style.marginLeft = ((w - h/height*width)/2)+'px';\n        console.log(page.style.marginLeft)\n    }\n\n    else { // 长屏\n        page.style.transform = 'scale('+w/width+')';\n    }\n\n};\n\n\n\n\n\n\n"]}